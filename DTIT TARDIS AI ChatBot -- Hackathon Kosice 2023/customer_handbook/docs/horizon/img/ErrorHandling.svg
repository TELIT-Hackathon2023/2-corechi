<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1021px" preserveAspectRatio="none" style="width:710px;height:1021px;background:#FFFFFF;" version="1.1" viewBox="0 0 710 1021" width="710px" zoomAndPan="magnify"><defs><filter height="300%" id="fykk04h6v4ks0" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="253" x="227.5" y="26.708">Error Handling for Callback</text><ellipse cx="345" cy="40.9531" fill="#000000" filter="url(#fykk04h6v4ks0)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#fykk04h6v4ks0)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="251" x="219.5" y="70.9531"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="231" x="229.5" y="92.0918">Delivery fails with redeliverable status</text><rect fill="#FEFECE" filter="url(#fykk04h6v4ks0)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="217" x="236.5" y="180.6323"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="197" x="246.5" y="201.771">Increase Failed Delivery Counter</text><polygon fill="#FEFECE" filter="url(#fykk04h6v4ks0)" points="260,234.6011,430,234.6011,442,246.6011,430,258.6011,260,258.6011,248,246.6011,260,234.6011" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="170" x="260" y="250.4092">Delivery Attempt Successful?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="21" x="227" y="244.0068">Yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="15" x="442" y="244.0068">No</text><rect fill="#FEFECE" filter="url(#fykk04h6v4ks0)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="281" x="44" y="268.6011"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="261" x="54" y="289.7397">reset Number of Consecutive Failed Events</text><rect fill="#FEFECE" filter="url(#fykk04h6v4ks0)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="194" x="408.5" y="268.6011"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="174" x="418.5" y="289.7397">Sleep for retry delay interval</text><rect fill="#FEFECE" filter="url(#fykk04h6v4ks0)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="181" x="415" y="322.5698"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="161" x="425" y="343.7085">Double retry delay interval</text><rect fill="#FEFECE" filter="url(#fykk04h6v4ks0)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="301" x="355" y="424.9409"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="281" x="365" y="446.0796">increase Number of Consecutive Failed Events</text><polygon fill="#FEFECE" filter="url(#fykk04h6v4ks0)" points="419,376.5386,592,376.5386,604,388.5386,592,400.5386,419,400.5386,407,388.5386,419,376.5386" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="21" x="509.5" y="410.749">Yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="173" x="419" y="392.3467">Failed Delivery Counter = 10?</text><polygon fill="#FEFECE" filter="url(#fykk04h6v4ks0)" points="505.5,478.9097,517.5,490.9097,505.5,502.9097,493.5,490.9097,505.5,478.9097" style="stroke:#A80036;stroke-width:1.5;"/><polygon fill="#FEFECE" filter="url(#fykk04h6v4ks0)" points="261.5,124.9219,428.5,124.9219,440.5,136.9219,428.5,148.9219,261.5,148.9219,249.5,136.9219,261.5,124.9219" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="21" x="349" y="159.1323">Yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="167" x="261.5" y="140.73">Failed Delivery Counter &lt; 10</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="15" x="234.5" y="134.3276">No</text><rect fill="#FEFECE" filter="url(#fykk04h6v4ks0)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="338" x="176" y="593.312"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="318" x="186" y="614.4507">Stop Delivery for Subscription (Open CircuitBreaker)</text><rect fill="#FEFECE" filter="url(#fykk04h6v4ks0)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="146" x="272" y="702.9912"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="126" x="282" y="724.1299">Sleep for 20 Minutes</text><rect fill="#FEFECE" filter="url(#fykk04h6v4ks0)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="216" x="237" y="818.3779"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="196" x="247" y="839.5166">Restart Delivery for Subscription</text><polygon fill="#FEFECE" filter="url(#fykk04h6v4ks0)" points="253,769.9756,437,769.9756,449,781.9756,437,793.9756,253,793.9756,241,781.9756,253,769.9756" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="21" x="349" y="804.186">Yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="184" x="253" y="785.7837">Is Callback Endpoint reachable ?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="15" x="449" y="779.3813">No</text><polygon fill="#FEFECE" filter="url(#fykk04h6v4ks0)" points="345,872.3467,357,884.3467,345,896.3467,333,884.3467,345,872.3467" style="stroke:#A80036;stroke-width:1.5;"/><polygon fill="#FEFECE" filter="url(#fykk04h6v4ks0)" points="253,647.2808,437,647.2808,449,659.2808,437,671.2808,253,671.2808,241,659.2808,253,647.2808" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="15" x="349" y="681.4912">No</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="184" x="253" y="663.0889">Is Callback Endpoint reachable ?</text><polygon fill="#FEFECE" filter="url(#fykk04h6v4ks0)" points="217.5,544.9097,472.5,544.9097,484.5,556.9097,472.5,568.9097,217.5,568.9097,205.5,556.9097,217.5,544.9097" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="21" x="349" y="579.1201">Yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="255" x="217.5" y="560.7178">Number of Consecutive Failed Events &gt;= 2?</text><polygon fill="#FEFECE" filter="url(#fykk04h6v4ks0)" points="345,938.3467,357,950.3467,345,962.3467,333,950.3467,345,938.3467" style="stroke:#A80036;stroke-width:1.5;"/><ellipse cx="345" cy="993.3467" fill="#FFFFFF" filter="url(#fykk04h6v4ks0)" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><ellipse cx="345" cy="993.3467" fill="#000000" rx="6" ry="6" style="stroke:#7F7F7F;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="345" x2="345" y1="50.9531" y2="70.9531"/><polygon fill="#A80036" points="341,60.9531,345,70.9531,349,60.9531,345,64.9531" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="184.5" x2="184.5" y1="302.5698" y2="322.5698"/><line style="stroke:#A80036;stroke-width:1.5;" x1="184.5" x2="24" y1="322.5698" y2="322.5698"/><polygon fill="#A80036" points="34,318.5698,24,322.5698,34,326.5698,30,322.5698" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="505.5" x2="505.5" y1="302.5698" y2="322.5698"/><polygon fill="#A80036" points="501.5,312.5698,505.5,322.5698,509.5,312.5698,505.5,316.5698" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="505.5" x2="505.5" y1="400.5386" y2="424.9409"/><polygon fill="#A80036" points="501.5,414.9409,505.5,424.9409,509.5,414.9409,505.5,418.9409" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="604" x2="666" y1="388.5386" y2="388.5386"/><polygon fill="#A80036" points="662,431.9253,666,441.9253,670,431.9253,666,435.9253" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="666" x2="666" y1="388.5386" y2="490.9097"/><line style="stroke:#A80036;stroke-width:1.5;" x1="666" x2="517.5" y1="490.9097" y2="490.9097"/><polygon fill="#A80036" points="527.5,486.9097,517.5,490.9097,527.5,494.9097,523.5,490.9097" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="505.5" x2="505.5" y1="458.9097" y2="478.9097"/><polygon fill="#A80036" points="501.5,468.9097,505.5,478.9097,509.5,468.9097,505.5,472.9097" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="505.5" x2="505.5" y1="356.5386" y2="376.5386"/><polygon fill="#A80036" points="501.5,366.5386,505.5,376.5386,509.5,366.5386,505.5,370.5386" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="248" x2="184.5" y1="246.6011" y2="246.6011"/><line style="stroke:#A80036;stroke-width:1.5;" x1="184.5" x2="184.5" y1="246.6011" y2="268.6011"/><polygon fill="#A80036" points="180.5,258.6011,184.5,268.6011,188.5,258.6011,184.5,262.6011" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="442" x2="505.5" y1="246.6011" y2="246.6011"/><line style="stroke:#A80036;stroke-width:1.5;" x1="505.5" x2="505.5" y1="246.6011" y2="268.6011"/><polygon fill="#A80036" points="501.5,258.6011,505.5,268.6011,509.5,258.6011,505.5,262.6011" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="505.5" x2="505.5" y1="502.9097" y2="512.9097"/><line style="stroke:#A80036;stroke-width:1.5;" x1="505.5" x2="684" y1="512.9097" y2="512.9097"/><polygon fill="#A80036" points="680,331.0698,684,321.0698,688,331.0698,684,327.0698" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="684" x2="684" y1="136.9219" y2="512.9097"/><line style="stroke:#A80036;stroke-width:1.5;" x1="684" x2="440.5" y1="136.9219" y2="136.9219"/><polygon fill="#A80036" points="450.5,132.9219,440.5,136.9219,450.5,140.9219,446.5,136.9219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="345" x2="345" y1="214.6011" y2="234.6011"/><polygon fill="#A80036" points="341,224.6011,345,234.6011,349,224.6011,345,228.6011" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="345" x2="345" y1="148.9219" y2="180.6323"/><polygon fill="#A80036" points="341,170.6323,345,180.6323,349,170.6323,345,174.6323" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="249.5" x2="24" y1="136.9219" y2="136.9219"/><polygon fill="#A80036" points="20,317.0698,24,327.0698,28,317.0698,24,321.0698" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="24" x2="24" y1="136.9219" y2="524.9097"/><line style="stroke:#A80036;stroke-width:1.5;" x1="24" x2="345" y1="524.9097" y2="524.9097"/><line style="stroke:#A80036;stroke-width:1.5;" x1="345" x2="345" y1="524.9097" y2="544.9097"/><polygon fill="#A80036" points="341,534.9097,345,544.9097,349,534.9097,345,538.9097" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="345" x2="345" y1="104.9219" y2="124.9219"/><polygon fill="#A80036" points="341,114.9219,345,124.9219,349,114.9219,345,118.9219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="345" x2="345" y1="793.9756" y2="818.3779"/><polygon fill="#A80036" points="341,808.3779,345,818.3779,349,808.3779,345,812.3779" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="449" x2="463" y1="781.9756" y2="781.9756"/><polygon fill="#A80036" points="459,825.3623,463,835.3623,467,825.3623,463,829.3623" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="463" x2="463" y1="781.9756" y2="884.3467"/><line style="stroke:#A80036;stroke-width:1.5;" x1="463" x2="357" y1="884.3467" y2="884.3467"/><polygon fill="#A80036" points="367,880.3467,357,884.3467,367,888.3467,363,884.3467" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="345" x2="345" y1="852.3467" y2="872.3467"/><polygon fill="#A80036" points="341,862.3467,345,872.3467,349,862.3467,345,866.3467" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="345" x2="345" y1="736.96" y2="769.9756"/><polygon fill="#A80036" points="341,759.9756,345,769.9756,349,759.9756,345,763.9756" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="345" x2="345" y1="671.2808" y2="702.9912"/><polygon fill="#A80036" points="341,692.9912,345,702.9912,349,692.9912,345,696.9912" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="345" x2="345" y1="896.3467" y2="906.3467"/><line style="stroke:#A80036;stroke-width:1.5;" x1="345" x2="487" y1="906.3467" y2="906.3467"/><polygon fill="#A80036" points="483,792.4756,487,782.4756,491,792.4756,487,788.4756" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="487" x2="487" y1="659.2808" y2="906.3467"/><line style="stroke:#A80036;stroke-width:1.5;" x1="487" x2="449" y1="659.2808" y2="659.2808"/><polygon fill="#A80036" points="459,655.2808,449,659.2808,459,663.2808,455,659.2808" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="241" x2="215" y1="659.2808" y2="659.2808"/><polygon fill="#A80036" points="211,778.4756,215,788.4756,219,778.4756,215,782.4756" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="215" x2="215" y1="659.2808" y2="918.3467"/><line style="stroke:#A80036;stroke-width:1.5;" x1="215" x2="345" y1="918.3467" y2="918.3467"/><line style="stroke:#A80036;stroke-width:1.5;" x1="345" x2="345" y1="918.3467" y2="938.3467"/><polygon fill="#A80036" points="341,928.3467,345,938.3467,349,928.3467,345,932.3467" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="345" x2="345" y1="627.2808" y2="647.2808"/><polygon fill="#A80036" points="341,637.2808,345,647.2808,349,637.2808,345,641.2808" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="345" x2="345" y1="568.9097" y2="593.312"/><polygon fill="#A80036" points="341,583.312,345,593.312,349,583.312,345,587.312" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="484.5" x2="524" y1="556.9097" y2="556.9097"/><polygon fill="#A80036" points="520,739.9756,524,749.9756,528,739.9756,524,743.9756" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="524" x2="524" y1="556.9097" y2="950.3467"/><line style="stroke:#A80036;stroke-width:1.5;" x1="524" x2="357" y1="950.3467" y2="950.3467"/><polygon fill="#A80036" points="367,946.3467,357,950.3467,367,954.3467,363,950.3467" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="345" x2="345" y1="962.3467" y2="982.3467"/><polygon fill="#A80036" points="341,972.3467,345,982.3467,349,972.3467,345,976.3467" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[5cba515bff599f5b265cf5134865df94]
@startuml
title Error Handling for Callback


start

:Delivery fails with redeliverable status;

while (Failed Delivery Counter < 10) is (Yes)

  :Increase Failed Delivery Counter;
  if (Delivery Attempt Successful?) then (Yes)
    :reset Number of Consecutive Failed Events;
    break
  else (No)
    :Sleep for retry delay interval;
    :Double retry delay interval;
    if (Failed Delivery Counter = 10?) then (Yes)
       :increase Number of Consecutive Failed Events;
    endif
  endif

endwhile (No)

if (Number of Consecutive Failed Events >= 2?) then (Yes)
  :Stop Delivery for Subscription (Open CircuitBreaker);
  while (Is Callback Endpoint reachable ?) is (No)
    :Sleep for 20 Minutes;
    if (Is Callback Endpoint reachable ?) then (Yes)
      :Restart Delivery for Subscription;
    else (No)
    endif
  endwhile
endif

stop
@enduml

PlantUML version 1.2021.9beta2(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>